name: DataLoader
description: Component for loading and splitting data from files or URLs

inputs:
  - name: data_path
    type: string
    description: Path to input data file
    optional: true
  - name: data_url
    type: string
    description: URL to input data file
    optional: true
  - name: val_size
    type: float
    description: Validation set size
    default: 0.2
  - name: output_format
    type: string
    description: Output format for data
    default: csv
    enum: [csv, json, parquet]

outputs:
  - name: train_data
    type: dataset
    description: Training dataset
  - name: val_data
    type: dataset
    description: Validation dataset
  - name: metadata
    type: object
    description: Processing metadata

implementation:
  container:
    image: ravidocker189/data_loader_1:latest
    command: ["python", "dataloader.py"]
    args: [
      "--data-path", "{inputs.data_path}",
      "--data-url", "{inputs.data_url}",
      "--val-size", "{inputs.val_size}",
      "--output-format", "{inputs.output_format}",
      "--_output_paths", "{outputs.train_data}", "{outputs.val_data}", "{outputs.metadata}"
    ]

requirements:
  - pandas
  - numpy
  - scikit-learn
  - requests
  - pyarrow
